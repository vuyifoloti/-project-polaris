import streamlit as st
import pandas as pd
import joblib

clf_lr = joblib.load("attrition_model.pkl")

st.title("Employee Attrition Prediction ðŸ’¼")
st.write("This app predicts the probability that an employee will leave.")

age = st.slider("Age", 18, 60, 30)
monthly_income = st.number_input("Monthly Income", min_value=1000, max_value=20000, value=5000, step=500)
overtime = st.selectbox("OverTime", ["Yes", "No"])

input_data = pd.DataFrame([{
    "Age": age,
    "MonthlyIncome": monthly_income,
    "OverTime": overtime
}])

st.write("### Preview Input Data")
st.dataframe(input_data)

if st.button("Predict"):
    proba = clf_lr.predict_proba(input_data)[0][1]
    pred = "Likely to Leave" if proba > 0.5 else "Likely to Stay"

    st.subheader(f"Prediction: {pred}")
    st.write(f"Attrition Probability: **{proba:.2f}**"
